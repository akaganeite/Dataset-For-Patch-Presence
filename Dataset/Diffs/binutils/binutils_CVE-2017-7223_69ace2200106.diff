diff --git a/gas/ChangeLog b/gas/ChangeLog
index 76c23ce70ca5..a142857cba48 100644
--- a/gas/ChangeLog
+++ b/gas/ChangeLog
@@ -1,5 +1,8 @@
 2016-12-01  Nick Clifton  <nickc@redhat.com>
 
+	PR gas/20898
+	* app.c (do_scrub_chars): Do not attempt to unget EOF.
+
 	PR gas/20897
 	* subsegs.c (subsegs_print_statistics): Do nothing if no output
 	file was created.
diff --git a/gas/app.c b/gas/app.c
index 6b883a1f8a16..dcd82191e07e 100644
--- a/gas/app.c
+++ b/gas/app.c
@@ -1188,7 +1188,7 @@ do_scrub_chars (size_t (*get) (char *, size_t), char *tostart, size_t tolen)
 		  state = -2;
 		  break;
 		}
-	      else
+	      else if (ch2 != EOF)
 		{
 		  UNGET (ch2);
 		}
